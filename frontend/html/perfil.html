<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Proyectos - Gestión de Tareas</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"/>
    <link rel="stylesheet" href="../css/estilos.css">

</head>
<body>
<!-- Barra de navegación -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container">
        <a class="navbar-brand me-auto" href="index.html"><i class="fas fa-home"></i> Inicio</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="proyectos.html"><i class="fas fa-folder"></i> Proyectos</a></li>
                    <li class="nav-item"><a class="nav-link" href="tareas.html"><i class="fas fa-tasks"></i> Tareas</a></li>
                    <li class="nav-item"><a class="nav-link" href="calendario.html"><i class="fas fa-calendar-alt"></i> Calendario</a></li>
                    <!-- <li class="nav-item"><a class="nav-link" href="colaboracion.html"><i class="fas fa-users"></i> Colaboración</a></li> -->
                    <li class="nav-item"><a class="nav-link" href="#" id="logout"><i class="fas fa-sign-in-alt"></i> Cerrar sesión</a></li>
                    <li class="nav-item"><span class="nav-link" id="nombre-usuario-nav"></span></li>
                    <li class="nav-item">
                        <button id="toggle-tema" class="btn btn-link nav-link" title="Cambiar tema">
                            <i id="icono-tema" class="fas fa-moon"></i>
                        </button>
                    </li>
                </ul>
            </ul>
        </div>
    </div>
</nav>

<!-- Contenido -->
  <div class="container mt-5">
    <div class="row">
      <!-- Datos del usuario -->
      <div class="col-md-8">
        <div class="card mb-3">
          <div class="card-body">
            <h4>Información del Usuario</h4>
            <p><strong>Usuario:</strong> <span id="perfil-usuario"></span></p>
            <p><strong>Correo:</strong> <span id="perfil-correo"></span></p>
          </div>
        </div>

        <div class="card">
          <div class="card-body">
            <h4>Proyectos en los que participas</h4>
            <ul id="perfil-proyectos" class="list-group"></ul>
          </div>
        </div>
      </div>

      <!-- Botón cambio contraseña -->
      <div class="col-md-4 d-flex align-items-start justify-content-center">
        <button class="btn btn-warning" data-bs-toggle="modal" data-bs-target="#modalContrasena">
          Cambiar contraseña
        </button>
      </div>
    </div>
  </div>

  <!-- Modal para cambio de contraseña -->
  <div class="modal fade" id="modalContrasena" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <form id="form-actualizar-contrasena">
          <div class="modal-header">
            <h5 class="modal-title">Actualizar contraseña</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body">
            <input type="password" id="nuevaContrasena" class="form-control mb-2" placeholder="Nueva contraseña" required />
            <input type="password" id="confirmarContrasena" class="form-control" placeholder="Confirmar contraseña" required />
            <div id="mensaje-error" class="text-danger mt-2 d-none">Las contraseñas no coinciden.</div>
            <div id="mensaje-ok" class="text-success mt-2 d-none">Contraseña actualizada con éxito.</div>
          </div>
          <div class="modal-footer">
            <button type="submit" class="btn btn-primary">Actualizar</button>
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script type="module" src="../js/scripts.js"></script>
  <script type="module" src="../js/firebase.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>